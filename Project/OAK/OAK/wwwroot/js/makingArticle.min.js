function makeIcon(n,t,i){var r=document.createElement("img");return r.className=n,r.src=t,r.title=i,r}function buttomAddText(n){var t=makeIcon("edit_article_bottons","/icons/text.png","Добавить поле ввода текста");return t.id=n,t.onclick=function(){return addFieldText(t.id)},t}function buttomAddSubtitle(n){var t=makeIcon("edit_article_bottons","/icons/title.png","Добавить поле ввода подзаголовока");return t.id=n,t.onclick=function(){return addFieldSubtitle(t.id)},t}function buttomAddImage(n){var t=makeIcon("edit_article_bottons","/icons/image.png","Добавить поле загрузки изображения");return t.id=n,t.onclick=function(){return addFieldImage(t.id)},t}function fieldText(n){var t=document.createElement("textarea");return t.name="t"+n,t.className="edit_article_textarea",t}function fieldSubtitle(n){var t=document.createElement("input");return t.type="text",t.name="s"+n,t.className="edit_article_subtitle_field",t}function fieldImage(n){var r=document.createElement("div"),i,t,u,f;return r.className="edit_article_img_cont",i=document.createElement("img"),i.className="edit_article_img_prev",i.src="",i.onclick=function(){t.click()},t=document.createElement("input"),t.type="file",t.multiple="image/*",t.accept="image/*",t.name="f"+n,t.className="edit_article_img_down",t.style="opacity: 0;",t.addEventListener("change",function(){var n=new FileReader;n.readAsDataURL(t.files[0]);n.onload=function(n){i.src=n.target.result}}),u=makeIcon("edit_article_drop_img","/icons/plus.png","Сброс изображения"),u.onclick=function(){i.src="";t.value=""},f=makeIcon("edit_article_img_down_icon","/icons/image.png","Загрузить изображение"),f.onclick=function(){t.click()},r.appendChild(u),r.appendChild(i),r.appendChild(f),r.appendChild(t),r}function makeContainer(n,t,i,r,u){var f=document.createElement("div"),e;f.className=n;f.id="c"+t;f.appendChild(i);f.appendChild(r);f.appendChild(u);e=document.getElementById("fields");e.appendChild(f)}function makeContainerText(n){var i=makeIcon("edit_article_bottons edit_article_icon","/icons/text.png","Текст"),r=fieldText(n),t=document.createElement("div");t.id="b"+n;t.appendChild(buttomAddImage(n));t.appendChild(buttomAddSubtitle(n));makeContainer("edit_artcle_text",n,i,r,t)}function makeContainerSubtitle(n){var i=makeIcon("edit_article_bottons edit_article_icon","/icons/title.png","Подзаголовок"),r=fieldSubtitle(n),t=document.createElement("div");t.id="b"+n;t.appendChild(buttomAddImage(n));t.appendChild(buttomAddText(n));makeContainer("edit_artcle_subtitle",n,i,r,t)}function makeContainerImage(n){var i=makeIcon("edit_article_bottons edit_article_icon","/icons/image.png","Изображение"),r=fieldImage(n),t=document.createElement("div");t.id="b"+n;t.appendChild(buttomAddImage(n));t.appendChild(buttomAddText(n));t.appendChild(buttomAddSubtitle(n));makeContainer("edit_article_img",n,i,r,t)}function remove(n){var t=document.getElementById("c"+n),i=document.getElementById("b"+n);t.removeChild(i)}function addFieldText(n){makeContainerText(1+Number(n));remove(n)}function addFieldSubtitle(n){makeContainerSubtitle(1+Number(n));remove(n)}function addFieldImage(n){makeContainerImage(1+Number(n));remove(n)}