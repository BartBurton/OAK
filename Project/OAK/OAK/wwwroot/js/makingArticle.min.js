function makeIcon(n,t,i){var r=document.createElement("img");return r.className=n,r.src=t,r.title=i,r}function buttomAddText(n){var t=makeIcon("edit_article_bottons","~/icons/text.png","Добавить поле ввода текста");return t.id=n,t.onclick=function(){return addFieldText(t)},t}function buttomAddSubtitle(){var n=makeIcon("edit_article_bottons","~/icons/title.png","Добавить поле ввода подзаголовока");return n.id=num,n.onclick=function(){return addFieldSubtitle(n)},n}function buttomAddImage(n){var t=makeIcon("edit_article_bottons","~/icons/image.png","Добавить поле загрузки изображения");return t.id=n,t.onclick=function(){return addFieldImage(t)},t}function fieldText(n){var t=document.createElement("textarea");return t.name="t"+n,t.className="edit_article_textarea",t}function fieldSubtitle(n){var t=document.createElement("input");return t.type="text",t.name="s"+n,t.className="edit_article_subtitle_field",t}function fieldImage(n){var r=document.createElement("div"),i,t,u,f;r.className="edit_article_img_cont";i=document.createElement("img");i.className="edit_article_img_prev";i.src="";i.onclick=function(){t.click()};t=document.createElement("input");t.type="file";t.multiple="image/*";t.accept="image/*";t.name="f"+n;t.className="edit_article_img_down";t.style="opacity: 0;";t.addEventListener("change",function(){var n=new FileReader;n.readAsDataURL(t.files[0]);n.onload=function(n){i.src=n.target.result}});u=makeIcon("edit_article_drop_img","~/icons/+.png","Сброс изображения");u.onclick=function(){i.src="";t.value=""};f=makeIcon("edit_article_img_down_icon","~/icons/image.png","Загрузить изображение");f.onclick=function(){inputImg.click()};r.appendChild(u);r.appendChild(i);r.appendChild(f);r.appendChild(t)}function addFieldText(n){var i=1+Number(n.id),f=makeIcon("edit_article_bottons edit_article_icon","~/icons/text.png","Текст"),e=fieldText(i),r=document.createElement("div"),t,u;r.appendChild(buttomAddImage(i));r.appendChild(buttomAddSubtitle(i));t=document.createElement("div");t.className="edit_artcle_text";t.appendChild(f);t.appendChild(e);t.appendChild(r);u=n.parentNode.parentNode.parentNode;u.appendChild(t);n.parentNode.parentNode.removeChild(n.parentNode)}function addFieldSubtitle(n){var i=1+Number(n.id),f=makeIcon("edit_article_bottons edit_article_icon","~/icons/title.png","Подзаголовок"),e=fieldSubtitle(i),r=document.createElement("div"),t,u;r.appendChild(buttomAddImage(i));r.appendChild(buttomAddText(i));t=document.createElement("div");t.className="edit_artcle_subtitle";t.appendChild(f);t.appendChild(e);t.appendChild(r);u=n.parentNode.parentNode.parentNode;u.appendChild(t);n.parentNode.parentNode.removeChild(n.parentNode)}function addFieldImage(n){var i=1+Number(n.id),f=makeIcon("edit_article_bottons edit_article_icon","~/icons/image.png","Изображение"),e=fieldImage(i),r=document.createElement("div"),t,u;r.appendChild(buttomAddImage(i));r.appendChild(buttomAddText(i));r.appendChild(buttomAddSubtitle(i));t=document.createElement("div");t.className="edit_article_img";t.appendChild(f);t.appendChild(e);t.appendChild(r);u=n.parentNode.parentNode.parentNode;u.appendChild(t);n.parentNode.parentNode.removeChild(n.parentNode)}