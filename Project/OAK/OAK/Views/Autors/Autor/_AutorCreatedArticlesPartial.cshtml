@model Autor
@inject ICurrentUser User
@{
    Autor CurrentUser = User.GetCurrentUser().Result;
}

<div class="liced_articles">

    <a class="a_botton" asp-controller="Articles" asp-action="CreatedArticles" asp-route-id="@Model.Id">
        <p class="liced_articles_title">Созданные статьи</p>
    </a>

    @if (Model.Id == CurrentUser?.Id)
    {
        <p class="profile_howmuch">Статей: @Model.Articles.Count</p>
        <a class="a_botton" asp-controller="EditArticle" asp-action="EditCreate">
            <img class="profile_make" src="~/icons/write.png">
        </a>
        <br><br><br><br>
    }

    @{
        var articles = Model.Articles.Take(3);
        foreach (var item in articles)
        {
            @await Html.PartialAsync("~/Views/Articles/_HalfArticlePartial.cshtml", item)
        }
    }

    <a class="a_botton" asp-controller="Articles" asp-action="CreatedArticles" asp-route-id="@Model.Id">
        <p class="liced_articles_dots">. . .</p>
    </a>
</div>


