@model Article

<div class="half_article">

    <div class="half_article_title_inf">
        <a class="a_botton" asp-action="Article" asp-controller="Article" asp-route-id="@Model.Id">
            <h3 class="half_article_title">@Model.Name</h3>
        </a>
        <img class="half_article_favorite" src="~/icons/yes leaf.png">
    </div>

    <div class="half_article_content_inf">
        @Html.Raw("<img class='half_article_prewie' " +
        "src=\"data:image/png; base64," + Convert.ToBase64String(Model.ArtImages.First().Image) + "\" />")
        @{
            string clipp = Encoding.UTF8.GetString(Model.ArtTexts.First().Text);

            if (clipp.Length > 120)
            {
                clipp = clipp.Remove(120, clipp.Length - 120);
            }

            int flag = 0;
            for (int i = 1; i < clipp.Length; i++)
            {
                if (clipp[i] == ' ')  {  flag = 0;  }
                if (flag == 20)
                {
                    clipp = clipp.Insert(i, "</br>");
                    i += 5;
                }
                flag++;
            }

            clipp += "...";
            <p class="half_article_text">
                @Html.Raw(clipp)
            </p>
        }
    </div>

    <div class="botton">
        <a class="a_botton" asp-action="Section" asp-controller="Section" asp-route-id="@Model.Idsection">
            @Model.IdsectionNavigation.Name
        </a>
    </div>

    <a class="a_botton" asp-action="Autor" asp-controller="Autor" asp-route-id="@Model.Idautor">
        <div class="half_article_autor">
            @if (Model.Idautor != null)
            {
                @Html.Raw("<img class='half_article_autor_img' " +
                                    "src=\"data:image/png; base64," + Convert.ToBase64String(Model.IdautorNavigation.Avatar) + "\" />")

                <div class="half_article_autor_name">
                    @Model.IdautorNavigation.Name
                </div>
            }
            else
            {
                <img class="half_article_autor_img" src="~/icons/acorn.png" />
                <div class="half_article_autor_name">Автор не известен</div>
            }
        </div>
    </a>

    <div class="half_article_date">@Model.Date.ToString()</div>

</div>